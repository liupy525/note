function Note(t,e,o,n,i){this.title=t,this.type=n,this.content=e,this.category=o||"未分类",this.createTime=(new Date).toString(),this.id=i}var Content={currentNoteBook:null,currentNote:null,state:"view",currentEditNoteID:null,currentViewNoteID:null,noteType:"text"},NoteBook={};NoteBook.addNoteBook=function(){var t=document.getElementById("input-notebook-name").value;Storage.addNoteBook(t)},NoteBook.moveNote=function(t,e){var o=Storage.getNoteList(t);if(o){var n=o.split("&&&");-1==n.indexOf(e)&&(o=e+"&&&"+o,localStorage.setItem("notebook_"+t,o))}else localStorage.setItem("notebook_"+t,e)};var NoteList={};NoteList.viewNoteList=function(t){NoteList.updateList(t);document.getElementById("notebook-list"),document.getElementById("note-list");UI.enterViewNoteListMode()},NoteList.createAList=function(t){var e=document.getElementById("note-list-templete").firstElementChild,o=e.cloneNode(!0),n=o.querySelector("p");return n.innerHTML=t.title,n.dataset.id=t.id,n.dataset.type=t.type,o},NoteList.updateList=function(t){var e=Storage.getNoteList(t),o=document.getElementById("note-count");o.innerHTML=""+e.length;var n=document.getElementById("note-list-target-ul");n.innerHTML="",e.forEach(function(e,o){if(t){var i=e;e=Storage.getNote(i)}n.appendChild(NoteList.createAList(e))});var i=document.getElementById("note-list-title");t?i.innerHTML=t:i.innerHTML="笔记"};var CategorySelectList={};CategorySelectList.updateList=function(){var t=Storage.getNoteBookList(),e=document.getElementById("category-select-list"),o=document.getElementById("category-list-templete").firstElementChild;e.innerHTML="",t.forEach(function(t,n){var i=o.cloneNode(!0);i.firstElementChild.innerHTML=t;var r=Storage.getNoteList(t);-1!=r.indexOf(Content.currentEditNoteID)&&(i.classList.add("category-select"),document.getElementById("category").innerHTML=t),e.appendChild(i)})};