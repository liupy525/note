var UI={};UI.init=function(){NoteList.updateList();var e=Storage.getNoteList();e.length>0?Content.currentViewNoteID=e[0].id:Content.currentViewNoteID=null,UI.updateContent(),CategorySelectList.updateList(),Storage.addNoteBook("未分类")},UI.enterWriteMode=function(){document.body.classList.remove("view-mode"),document.body.classList.remove("draw-mode"),document.body.classList.add("write-mode")},UI.enterDrawMode=function(){document.body.classList.remove("view-mode"),document.body.classList.add("draw-mode"),document.body.classList.remove("write-mode"),Draw.init()},UI.enterViewMode=function(){document.body.classList.add("view-mode"),document.body.classList.remove("draw-mode"),document.body.classList.remove("write-mode"),"draw"==Content.viewNoteType?document.body.classList.add("view-draw-mode"):document.body.classList.remove("view-draw-mode")},UI.enterAddNoteBookPage=function(){document.body.classList.add("add-note-book-page")},UI.quitAddNoteBookPage=function(){var e=document.getElementById("input-notebook-name");e.value="",document.body.classList.remove("add-note-book-page")},UI.enterDeleteNotePage=function(e){document.body.classList.add("delete-note-page");var t=document.getElementById("delete-note-name");t.innerHTML=e},UI.quitDeleteNotePage=function(){document.body.classList.remove("delete-note-page")},UI.enterDeleteNoteBookPage=function(){document.body.classList.add("delete-notebook-page")},UI.quitDeleteNoteBookPage=function(){document.body.classList.remove("delete-notebook-page")},UI.enterRenameNoteBookPage=function(){document.body.classList.add("rename-notebook-page")},UI.quitRenameNoteBookPage=function(){document.body.classList.remove("rename-notebook-page")},UI.enterFullSrceenMode=function(){document.body.classList.add("full-screen-mode")},UI.exitFullScreenMode=function(){document.body.classList.remove("full-screen-mode")},UI.enterViewNoteListMode=function(){document.body.classList.add("view-noteList"),document.body.classList.remove("view-notebookList")},UI.enterViewNoteBookListMode=function(){document.body.classList.remove("view-noteList"),document.body.classList.add("view-notebookList")},UI.editNote=function(e){var t=Storage.getNote(e);if(t)if(document.getElementById("input-title").value=t.title,"text"==t.type)UI.enterWriteMode(),document.getElementById("text-area").value=t.content;else{UI.enterDrawMode();var o=document.createElement("img");o.src=t.content,Draw.drawImage(o)}},UI.updateContent=function(e){var t={};if(e)if("object"==typeof e)t=e;else{var o=e;t=Storage.getNote(o)}else{var n=Storage.getNoteList();0===n.length?t.type="none":t=Storage.getNote(n[0].id)}var d=document.getElementById("content"),i=document.getElementById("title");if("text"==t.type)i.innerHTML=t.title,d.innerHTML=marked(t.content),document.querySelector("pre code")&&Util.highLightCode(),document.body.classList.remove("view-draw-mode");else if("draw"==t.type){i.innerHTML=t.title;var a=document.createElement("img");a.src=t.content,d.innerHTML="",d.appendChild(a),document.body.classList.add("view-draw-mode")}else i.innerHTML="",d.innerHTML=""},UI.updateNoteBookList=function(){var e=Storage.getNoteBookList(),t=document.querySelector("#notebook-list-templete>li"),o=document.getElementById("notebook-list-target-ul");o.innerHTML="",e.forEach(function(e,n){var d=t.cloneNode(!0),i=d.querySelector("p");if(i.innerHTML=e,"未分类"==e){var a=d.querySelector("div");a.style.display="none"}o.appendChild(d)}),UI.enterViewNoteBookListMode()};